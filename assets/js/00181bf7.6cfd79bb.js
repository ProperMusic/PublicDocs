"use strict";(self.webpackChunkbasil_docs=self.webpackChunkbasil_docs||[]).push([[3682],{8715:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var n=r(5893),l=r(1151);const t={title:"XML Cancellation",includeInPublic:!0},i="Process",d={id:"fulfilment/cancellation",title:"XML Cancellation",description:"1.  The client places an xml file in the folder ./upload/customerCancelOrderLines/  see sample",source:"@site/docs/fulfilment/cancellation.md",sourceDirName:"fulfilment",slug:"/fulfilment/cancellation",permalink:"/PublicDocs/docs/fulfilment/cancellation",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"XML Cancellation",includeInPublic:!0},sidebar:"tutorialSidebar",previous:{title:"Invoice v2.0 Sample",permalink:"/PublicDocs/docs/customers/b2b/invoice-v2-sample"},next:{title:"Cancel Order Lines Response",permalink:"/PublicDocs/docs/fulfilment/messages/cancel-order-lines-resp"}},o={},c=[{value:"Sample Upload File",id:"sample-upload-file",level:3},{value:"Order Level Messages: Failure",id:"order-level-messages-failure",level:2},{value:"Order Level Messages: Success",id:"order-level-messages-success",level:2},{value:"Line Level Messages: Failure (V1.0)",id:"line-level-messages-failure-v10",level:2},{value:"Line Level Messages: Success (V1.0)",id:"line-level-messages-success-v10",level:2},{value:"Line Level Statuses V(1.1)",id:"line-level-statuses-v11",level:2},{value:"Response Samples",id:"response-samples",level:3},{value:"Version 1.0 Sample",id:"version-10-sample",level:4},{value:"Version 1.1 Response",id:"version-11-response",level:4}];function a(e){const s={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"process",children:"Process"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["The client places an xml file in the folder ",(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"./upload/customerCancelOrderLines/"})}),"  ",(0,n.jsx)(s.a,{href:"#sample-upload-file",children:(0,n.jsx)(s.em,{children:"see sample"})})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"The Proper Fulfilment System will pick up the file and process the\r\ncontained lines, usually within a few minutes"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["The Proper Fulfilment System will write a response file to",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"./download/customerCancelOrderLinesResp/"})})," ",(0,n.jsx)(s.a,{href:"#response-samples",children:(0,n.jsx)(s.em,{children:"see samples"})}),(0,n.jsx)(s.br,{}),"\n",'The file will be named (where possible) the as the original file\r\nwith ".resp" appended']}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"sample-upload-file",children:"Sample Upload File"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-xml",metastring:'title="sample.xml.done" ',children:'<?xml version="1.0"?>\r\n<customerCancelOrderLines>\r\n <StoreorderID>ABC123</StoreorderID>\r\n <StoreCustomerId>ABC123456</StoreCustomerId>\r\n  <storeId>99999</storeId>\r\n  <Auth>ABCDEF012345678900000000000000000123456789ABCDEF0000000000000000</Auth>\r\n <orderItems>\r\n  <item>\r\n   <lineID>XYZ123</lineID>\r\n  </item>\r\n    <item>\r\n   <lineID>XYZ124</lineID>\r\n  </item>\r\n  </orderItems>\r\n</customerCancelOrderLines>\r\n\n'})}),"\n",(0,n.jsx)(s.h1,{id:"errors-and-statuses",children:"Errors and Statuses"}),"\n",(0,n.jsx)(s.h2,{id:"order-level-messages-failure",children:"Order Level Messages: Failure"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"No order could be found for these criteria"}),(0,n.jsx)(s.br,{}),"\n","The could not match the combination of storeId, customerId and\r\norderId to any existing order in our system"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Authentication Failed: No Client/Store Id could be found"}),(0,n.jsx)(s.br,{}),"\n","The store/client Id did not match anything in our system"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Authentication Failed"}),(0,n.jsx)(s.br,{}),"\n",'The "Auth" string did not match our records']}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"All of the above messages will result stop the cancellation from being\r\nprocessed."}),"\n",(0,n.jsx)(s.h2,{id:"order-level-messages-success",children:"Order Level Messages: Success"}),"\n",(0,n.jsx)(s.p,{children:"If the order level message is blank, the file and its lines were most\r\nlikely processed without error. Check the line level messages for\r\ndetails."}),"\n",(0,n.jsx)(s.h2,{id:"line-level-messages-failure-v10",children:"Line Level Messages: Failure (V1.0)"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:" No (PMC) Order line could be found"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:" System Error. Order line could not be updated"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:" System Error. Failed to delete Live-Order Line"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:" System Error. Failed to open Order line View"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:" System Error. View could not be opened"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:" Order has already been printed"})}),"\n"]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.p,{children:'It is too late to delete this line\r\nThis will occur when the picking ticket has been printed, i.e. It\r\nhas passed the "Assigned" status.'}),"\n"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"Problem Deleting picking ticket line (wPCL): \\[*error message*\\]"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"Problem Deleting picking ticket line (wORL): \\[*error message*\\]"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"Invalid Order Type (\\[*\\#*\\]) for this operation"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"No order could be located for this line"})}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"line-level-messages-success-v10",children:"Line Level Messages: Success (V1.0)"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"Back-order successfully deleted             "})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"Back-order line has already been deleted    "})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"Live-order line successfully deleted        "})}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"line-level-statuses-v11",children:"Line Level Statuses V(1.1)"}),"\n",(0,n.jsx)(s.h1,{id:"file-restrictions",children:"File Restrictions"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:'The incoming file can have any (valid) file name but must end with\r\n".done" to denote that the file is ready to be processed'}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Only one order cancellation may appear in each file. The file may\r\ncontain multiple lines on the same order."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"response-samples",children:"Response Samples"}),"\n",(0,n.jsx)(s.h4,{id:"version-10-sample",children:"Version 1.0 Sample"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-xml",metastring:'title="sample.resp.xml (Sample of Response File)"',children:'\r\n<?xml version="1.0" encoding="UTF-8" ?>\r\n <customerCancelOrderLines>\r\n <storeOrderId>ABC123</storeOrderId>\r\n <storeCustomerId>ABC123456</storeCustomerId>\r\n <storeId>99999</storeId>\r\n <properOrderId>1000000352</properOrderId>\r\n <properCustomerId>1000000352</properCustomerId>\r\n <message></message>\r\n  <orderItems>\r\n   <item>\r\n   <lineId>XYZ123</lineId>\r\n   <properLineId>1000000476</properLineId>\r\n   <messages>\r\n        <message>\r\n            <messageType>success</messageType>\r\n            <messageText>Back-order successfully deleted</messageText>\r\n        </message>\r\n   </messages>\r\n   </item>\r\n   <item>\r\n   <lineId>XYZ124</lineId>\r\n   <properLineId>1000000477</properLineId>\r\n   <messages>\r\n        <message>\r\n            <messageType>success</messageType>\r\n            <messageText>Back-order successfully deleted</messageText>\r\n        </message>\r\n   </messages>\r\n   </item>\r\n  </orderItems>\r\n </customerCancelOrderLines>\r\n\n'})}),"\n",(0,n.jsx)(s.h4,{id:"version-11-response",children:"Version 1.1 Response"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-xml",metastring:'title="version1.1.resp.xml"',children:'<?xml version="1.0" encoding="UTF-8" ?>\r\n<customerCancelOrderLines>\r\n\t<storeOrderId>$$$$$$$$</storeOrderId>\t\t\t\t\t\x3c!-- Client\'s Order Id --\x3e\r\n\t<storeCustomerId>$$$$$$$$$</storeCustomerId>\t\t\t\x3c!-- Client\'s Customer Id --\x3e\r\n\t<storeId>##########</storeId>\t\t\t\t\t\t\t\x3c!-- Client\'s Store/Client Id (Assigned By Proper --\x3e\r\n\t<properOrderId>##########</properOrderId>\t\t\t\t\x3c!-- Proper\'s internal Order Id--\x3e\r\n\t<properCustomerId>##########</properCustomerId>\t\t\t\x3c!-- Proper\'s internal Customer Id--\x3e\r\n\t<message></message>\r\n\t<orderItems>\r\n\t\t<item>\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- success example --\x3e\r\n\t\t\t<lineId>$$$$$$$$</lineId> \t\t\t\t\t\t\x3c!-- Client\'s Line Id --\x3e\r\n\t\t\t<properLineId>##########</properLineId>  \t\t\x3c!-- Proper\'s internal Line Id --\x3e\r\n\t\t\t<result>success</result> \t\t\t\t\t\t\x3c!-- "success" or "failure" --\x3e\r\n\t\t</item>\r\n\t\t<item>\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- failure example --\x3e\r\n\t\t\t<lineId>$$$$$$$$</lineId>\r\n\t\t\t<properLineId>##########</properLineId>\r\n\t\t\t<result>failure</result>\r\n\t\t</item>\r\n\t</orderItems>\r\n</customerCancelOrderLines>\r\n\r\n\n'})})]})}function m(e={}){const{wrapper:s}={...(0,l.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},1151:(e,s,r)=>{r.d(s,{Z:()=>d,a:()=>i});var n=r(7294);const l={},t=n.createContext(l);function i(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);